type: sections
max_columns: 6
title: Test Dash
path: test-hero
sections:
  # ============================================================
  # SECTION 1: OAL HERO - Zone Controls (Full Width)
  # ============================================================
  - type: grid
    cards:
      - type: vertical-stack
        card_mod:
          style: |
            :host {
              background:
                linear-gradient(
                  180deg,
                  rgba(60, 60, 60, 0.12) 0%,
                  rgba(60, 60, 60, 0.08) 50%,
                  rgba(40, 40, 40, 0.18) 100%
                ),
                url('/local/image/Room7.png') !important;
              background-size: cover !important;
              background-position: center !important;
              border-radius: 28px !important;
              overflow: hidden !important;
              border: none !important;
              box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08) !important;
              padding: 0 !important;
              display: block !important;
            }
        cards:
          # Quick Controls - sub-button bar inside hero
          - type: custom:bubble-card
            card_type: button
            button_type: name
            card_layout: large
            show_icon: false
            show_name: false
            show_state: false
            sub_button:
              main:
                - name: Quick Controls
                  buttons_layout: inline
                  group:
                    - entity: light.all_adaptive_lights
                      name: All
                      icon: mdi:lightbulb-group
                      show_name: false
                      show_icon: true
                      show_background: true
                      state_background: false
                      custom_height: 38
                      fill_width: false
                      tap_action:
                        action: toggle
                      hold_action:
                        action: more-info
                    - entity: script.oal_reset_soft
                      name: Reset
                      icon: mdi:refresh
                      show_name: false
                      show_icon: true
                      show_background: true
                      state_background: false
                      custom_height: 38
                      fill_width: false
                      tap_action:
                        action: perform-action
                        perform_action: script.oal_reset_soft
                        target: {}
                    - entity: media_player.living_room
                      name: Media
                      icon: mdi:play-pause
                      show_name: false
                      show_icon: true
                      show_background: true
                      state_background: false
                      custom_height: 38
                      fill_width: false
                      visibility:
                        - condition: or
                          conditions:
                            - condition: state
                              entity: media_player.living_room
                              state: playing
                            - condition: state
                              entity: media_player.living_room
                              state: paused
                      tap_action:
                        action: perform-action
                        perform_action: media_player.media_play_pause
                        target:
                          entity_id: media_player.living_room
                    - entity: weather.forecast_home
                      name: Weather
                      show_name: false
                      show_icon: true
                      show_background: true
                      state_background: false
                      custom_height: 38
                      fill_width: false
                      tap_action:
                        action: more-info
                    - entity: climate.dining_room
                      name: Climate
                      show_icon: false
                      show_name: false
                      show_attribute: true
                      attribute: current_temperature
                      show_background: true
                      state_background: false
                      custom_height: 38
                      fill_width: false
                      tap_action:
                        action: more-info
            styles: |
              ha-card {
                background: transparent !important;
                border: none !important;
                box-shadow: none !important;
                margin: 0 !important;
                padding: 12px 16px 8px 16px !important;
              }
              .bubble-button-card-container {
                background: transparent !important;
              }
              .bubble-sub-button-container {
                background: transparent !important;
                backdrop-filter: blur(14px) saturate(140%) !important;
                -webkit-backdrop-filter: blur(14px) saturate(140%) !important;
                border-radius: 12px !important;
                border: 1px solid rgba(255, 255, 255, 0.2) !important;
                padding: 6px 10px !important;
                margin: 0 !important;
                box-shadow: none !important;
                width: fit-content !important;
                margin-left: auto !important;
              }
              .bubble-sub-button-1,
              .bubble-sub-button-2,
              .bubble-sub-button-3,
              .bubble-sub-button-4,
              .bubble-sub-button-5 {
                background: rgba(255, 255, 255, 0.15) !important;
                border: 1px solid rgba(255, 255, 255, 0.2) !important;
                border-radius: 8px !important;
              }
              .bubble-sub-button-1 {
                background: ${hass.states['light.all_adaptive_lights']?.state === 'on'
                  ? 'rgba(255, 255, 255, 0.4)'
                  : 'rgba(255, 255, 255, 0.15)'} !important;
                border: ${hass.states['light.all_adaptive_lights']?.state === 'on'
                  ? '1px solid rgba(255, 149, 0, 0.35)'
                  : '1px solid rgba(255, 255, 255, 0.2)'} !important;
              }
              .bubble-sub-button-1 .bubble-sub-button-icon {
                color: ${hass.states['light.all_adaptive_lights']?.state === 'on'
                  ? 'rgb(255, 149, 0)'
                  : 'rgba(60, 60, 60, 0.6)'} !important;
                --mdc-icon-size: 15px !important;
              }
              .bubble-sub-button-2 .bubble-sub-button-icon,
              .bubble-sub-button-3 .bubble-sub-button-icon,
              .bubble-sub-button-4 .bubble-sub-button-icon {
                color: rgba(60, 60, 60, 0.6) !important;
                --mdc-icon-size: 15px !important;
              }
              .bubble-sub-button-5 .bubble-sub-button-attribute {
                color: rgba(40, 40, 40, 0.7) !important;
                font-weight: 600 !important;
                font-size: 11px !important;
              }
          # Zone slider row 1: Living, Kitchen, Bedroom
          - type: horizontal-stack
            card_mod:
              style: |
                hui-horizontal-stack-card {
                  display: block !important;
                }
                #root {
                  display: flex !important;
                  justify-content: center !important;
                  align-items: stretch !important;
                  gap: 20px !important;
                  padding: 10px 16px 8px 16px !important;
                }
                #root > * {
                  flex: 0 1 auto !important;
                  width: 66px !important;
                  max-width: 66px !important;
                }
            cards:
              # Living Zone - AL: switch.adaptive_lighting_main_living
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.living_room_lights
                name: >-
                  ${(() => {
                    const mc = hass.states['switch.adaptive_lighting_main_living']?.attributes?.manual_control || [];
                    return mc.length > 0 ? 'Living M' : 'Living';
                  })()}
                icon: mdi:sofa
                show_state: false
                show_attribute: true
                attribute: brightness
                scrolling_effect: false
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                double_tap_action:
                  action: call-service
                  service: light.turn_on
                  target:
                    entity_id: light.living_room_lights
                  data:
                    brightness_pct: 100
                card_mod:
                  style: |
                    ha-card {
                      background: transparent !important;
                      border: none !important;
                      box-shadow: none !important;
                    }
                styles: >-
                  .bubble-button-card-container {
                    position: relative !important;
                    display: grid !important;
                    grid-template-rows: auto auto 1fr auto !important;
                    justify-items: center !important;
                    align-items: center !important;
                    text-align: center !important;
                    min-height: 74px !important;
                    padding: 8px 6px 6px 6px !important;
                    border-radius: 14px !important;
                    overflow: hidden !important;
                    clip-path: inset(0 round 14px) !important;
                    transition: transform 0.1s ease-out, backdrop-filter 0.3s ease, border-color 0.2s ease, opacity 0.2s ease !important;
                    background: ${state === 'on'
                      ? 'rgba(255, 255, 255, 0.06)'
                      : 'rgba(255, 255, 255, 0.02)'} !important;
                    backdrop-filter: ${state === 'on'
                      ? 'blur(2px) saturate(110%)'
                      : 'blur(0.5px)'} !important;
                    -webkit-backdrop-filter: ${state === 'on'
                      ? 'blur(2px) saturate(110%)'
                      : 'blur(0.5px)'} !important;
                    border: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_main_living']?.attributes?.manual_control || []).length > 0
                          ? '1.5px solid rgba(239, 83, 80, 0.65)'
                          : '1.5px solid rgba(255, 149, 0, 0.55)')
                      : '1.5px solid rgba(80, 80, 80, 0.4)'} !important;
                    box-shadow: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_main_living']?.attributes?.manual_control || []).length > 0
                          ? '0 2px 8px rgba(239, 83, 80, 0.15)'
                          : '0 2px 8px rgba(255, 149, 0, 0.12)')
                      : 'none'} !important;
                  }

                  .bubble-button-card-container:active { transform: scale(0.96)
                  !important; }

                  .bubble-content-container {
                    display: grid !important;
                    grid-template-rows: auto auto 1fr !important;
                    justify-items: center !important;
                    width: 100% !important;
                    position: relative !important;
                    z-index: 5 !important;
                    padding-bottom: 12px !important;
                  }

                  .bubble-icon-container {
                    min-width: 32px !important;
                    min-height: 32px !important;
                    grid-row: 1 !important;
                    margin: 4px 0 4px 0 !important;
                    border-radius: 50% !important;
                    display: flex !important;
                    align-items: center !important;
                    justify-content: center !important;
                    background: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_main_living']?.attributes?.manual_control || []).length > 0
                          ? 'rgba(239, 83, 80, 0.15)'
                          : 'rgba(255, 149, 0, 0.15)')
                      : 'rgba(60, 60, 60, 0.18)'} !important;
                    border: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_main_living']?.attributes?.manual_control || []).length > 0
                          ? '1px solid rgba(239, 83, 80, 0.3)'
                          : '1px solid rgba(255, 149, 0, 0.3)')
                      : '1px solid rgba(60, 60, 60, 0.25)'} !important;
                  }

                  .bubble-icon {
                    --mdc-icon-size: 18px !important;
                    color: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_main_living']?.attributes?.manual_control || []).length > 0
                          ? 'rgb(239, 83, 80)'
                          : 'rgb(255, 149, 0)')
                      : 'rgba(20, 20, 20, 0.7)'} !important;
                    filter: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_main_living']?.attributes?.manual_control || []).length > 0
                          ? 'drop-shadow(0 0 4px rgba(239, 83, 80, 0.5))'
                          : 'drop-shadow(0 0 4px rgba(255, 149, 0, 0.5))')
                      : 'none'} !important;
                  }

                  .bubble-name-container {
                    grid-row: 2 !important;
                    margin: 2px 0 0 0 !important;
                    width: 100% !important;
                  }

                  .bubble-name {
                    font-weight: 600 !important;
                    font-size: 10px !important;
                    text-transform: uppercase !important;
                    letter-spacing: 0.8px !important;
                    line-height: 1.3 !important;
                    justify-content: center !important;
                    color: ${state === 'on'
                      ? 'rgba(255, 255, 255, 0.95)'
                      : 'rgba(10, 10, 10, 0.9)'} !important;
                    text-shadow: ${state === 'on'
                      ? '0 1px 3px rgba(0, 0, 0, 0.3)'
                      : 'none'} !important;
                  }

                  .bubble-state {
                    font-size: 11px !important;
                    font-weight: 800 !important;
                    color: rgba(10, 10, 10, 0.9) !important;
                    text-shadow: none !important;
                  }

                  .bubble-attribute {
                    font-size: 11px !important;
                    font-weight: 800 !important;
                    margin-top: 2px !important;
                    justify-content: center !important;
                    color: rgba(10, 10, 10, 0.9) !important;
                    text-shadow: none !important;
                  }

                  .bubble-range-slider {
                    position: absolute !important;
                    bottom: 6px !important;
                    left: 0 !important;
                    right: 0 !important;
                    margin: 0 auto !important;
                    width: 70% !important;
                    height: 3px !important;
                    border-radius: 3px !important;
                    z-index: 10 !important;
                    background: ${state === 'on'
                      ? 'rgba(255, 255, 255, 0.2)'
                      : 'transparent'} !important;
                    overflow: hidden !important;
                    opacity: ${state === 'on' ? '1' : '0'} !important;
                    transition: opacity 0.2s ease !important;
                  }

                  .bubble-range-fill {
                    height: 3px !important;
                    border-radius: 3px !important;
                    background: ${(hass.states['switch.adaptive_lighting_main_living']?.attributes?.manual_control || []).length > 0
                      ? 'linear-gradient(90deg, rgba(239, 83, 80, 0.8), rgba(255, 120, 100, 0.9))'
                      : 'linear-gradient(90deg, rgba(255, 149, 0, 0.8), rgba(255, 180, 80, 0.9))'} !important;
                  }

                  .bubble-range-value {
                    position: fixed !important;
                    top: 5px !important;
                    right: 6px !important;
                    font-size: 11px !important;
                    font-weight: 700 !important;
                    color: rgba(255, 255, 255, 0.95) !important;
                    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4) !important;
                    opacity: 0 !important;
                    transition: opacity 0.15s ease !important;
                    z-index: 20 !important;
                  }

                  .is-dragging .bubble-range-value { opacity: 1 !important; }

                  .is-dragging .bubble-attribute { opacity: 0 !important; }
                sub_button:
                  main: []
                  bottom: []
              # Kitchen Zone - AL: switch.adaptive_lighting_kitchen_island
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.all_kitchen_lights
                name: >-
                  ${(() => {
                    const mc = hass.states['switch.adaptive_lighting_kitchen_island']?.attributes?.manual_control || [];
                    return mc.length > 0 ? 'Kitchen M' : 'Kitchen';
                  })()}
                icon: mdi:countertop
                show_state: false
                show_attribute: true
                attribute: brightness
                scrolling_effect: false
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                double_tap_action:
                  action: call-service
                  service: light.turn_on
                  target:
                    entity_id: light.all_kitchen_lights
                  data:
                    brightness_pct: 100
                card_mod:
                  style: |
                    ha-card {
                      background: transparent !important;
                      border: none !important;
                      box-shadow: none !important;
                    }
                styles: >-
                  .bubble-button-card-container {
                    position: relative !important;
                    display: grid !important;
                    grid-template-rows: auto auto 1fr auto !important;
                    justify-items: center !important;
                    align-items: center !important;
                    text-align: center !important;
                    min-height: 74px !important;
                    padding: 8px 6px 6px 6px !important;
                    border-radius: 14px !important;
                    overflow: hidden !important;
                    clip-path: inset(0 round 14px) !important;
                    transition: transform 0.1s ease-out, backdrop-filter 0.3s ease, border-color 0.2s ease, opacity 0.2s ease !important;
                    background: ${state === 'on'
                      ? 'rgba(255, 255, 255, 0.06)'
                      : 'rgba(255, 255, 255, 0.02)'} !important;
                    backdrop-filter: ${state === 'on'
                      ? 'blur(2px) saturate(110%)'
                      : 'blur(0.5px)'} !important;
                    -webkit-backdrop-filter: ${state === 'on'
                      ? 'blur(2px) saturate(110%)'
                      : 'blur(0.5px)'} !important;
                    border: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_kitchen_island']?.attributes?.manual_control || []).length > 0
                          ? '1.5px solid rgba(239, 83, 80, 0.65)'
                          : '1.5px solid rgba(255, 149, 0, 0.55)')
                      : '1.5px solid rgba(80, 80, 80, 0.4)'} !important;
                    box-shadow: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_kitchen_island']?.attributes?.manual_control || []).length > 0
                          ? '0 2px 8px rgba(239, 83, 80, 0.15)'
                          : '0 2px 8px rgba(255, 149, 0, 0.12)')
                      : 'none'} !important;
                  }

                  .bubble-button-card-container:active { transform: scale(0.96)
                  !important; }

                  .bubble-content-container {
                    display: grid !important;
                    grid-template-rows: auto auto 1fr !important;
                    justify-items: center !important;
                    width: 100% !important;
                    position: relative !important;
                    z-index: 5 !important;
                    padding-bottom: 12px !important;
                  }

                  .bubble-icon-container {
                    min-width: 32px !important;
                    min-height: 32px !important;
                    grid-row: 1 !important;
                    margin: 4px 0 4px 0 !important;
                    border-radius: 50% !important;
                    display: flex !important;
                    align-items: center !important;
                    justify-content: center !important;
                    background: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_kitchen_island']?.attributes?.manual_control || []).length > 0
                          ? 'rgba(239, 83, 80, 0.15)'
                          : 'rgba(255, 149, 0, 0.15)')
                      : 'rgba(60, 60, 60, 0.18)'} !important;
                    border: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_kitchen_island']?.attributes?.manual_control || []).length > 0
                          ? '1px solid rgba(239, 83, 80, 0.3)'
                          : '1px solid rgba(255, 149, 0, 0.3)')
                      : '1px solid rgba(60, 60, 60, 0.25)'} !important;
                  }

                  .bubble-icon {
                    --mdc-icon-size: 18px !important;
                    color: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_kitchen_island']?.attributes?.manual_control || []).length > 0
                          ? 'rgb(239, 83, 80)'
                          : 'rgb(255, 149, 0)')
                      : 'rgba(20, 20, 20, 0.7)'} !important;
                    filter: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_kitchen_island']?.attributes?.manual_control || []).length > 0
                          ? 'drop-shadow(0 0 4px rgba(239, 83, 80, 0.5))'
                          : 'drop-shadow(0 0 4px rgba(255, 149, 0, 0.5))')
                      : 'none'} !important;
                  }

                  .bubble-name-container {
                    grid-row: 2 !important;
                    margin: 2px 0 0 0 !important;
                    width: 100% !important;
                  }

                  .bubble-name {
                    font-weight: 600 !important;
                    font-size: 10px !important;
                    text-transform: uppercase !important;
                    letter-spacing: 0.8px !important;
                    line-height: 1.3 !important;
                    justify-content: center !important;
                    color: ${state === 'on'
                      ? 'rgba(255, 255, 255, 0.95)'
                      : 'rgba(10, 10, 10, 0.9)'} !important;
                    text-shadow: ${state === 'on'
                      ? '0 1px 3px rgba(0, 0, 0, 0.3)'
                      : 'none'} !important;
                  }

                  .bubble-state {
                    font-size: 11px !important;
                    font-weight: 800 !important;
                    color: rgba(10, 10, 10, 0.9) !important;
                    text-shadow: none !important;
                  }

                  .bubble-attribute {
                    font-size: 11px !important;
                    font-weight: 800 !important;
                    margin-top: 2px !important;
                    justify-content: center !important;
                    color: rgba(10, 10, 10, 0.9) !important;
                    text-shadow: none !important;
                  }

                  .bubble-range-slider {
                    position: absolute !important;
                    bottom: 6px !important;
                    left: 0 !important;
                    right: 0 !important;
                    margin: 0 auto !important;
                    width: 70% !important;
                    height: 3px !important;
                    border-radius: 3px !important;
                    z-index: 10 !important;
                    background: ${state === 'on'
                      ? 'rgba(255, 255, 255, 0.2)'
                      : 'transparent'} !important;
                    overflow: hidden !important;
                    opacity: ${state === 'on' ? '1' : '0'} !important;
                    transition: opacity 0.2s ease !important;
                  }

                  .bubble-range-fill {
                    height: 3px !important;
                    border-radius: 3px !important;
                    background: ${(hass.states['switch.adaptive_lighting_kitchen_island']?.attributes?.manual_control || []).length > 0
                      ? 'linear-gradient(90deg, rgba(239, 83, 80, 0.8), rgba(255, 120, 100, 0.9))'
                      : 'linear-gradient(90deg, rgba(255, 149, 0, 0.8), rgba(255, 180, 80, 0.9))'} !important;
                  }

                  .bubble-range-value {
                    position: fixed !important;
                    top: 5px !important;
                    right: 6px !important;
                    font-size: 11px !important;
                    font-weight: 700 !important;
                    color: rgba(255, 255, 255, 0.95) !important;
                    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4) !important;
                    opacity: 0 !important;
                    transition: opacity 0.15s ease !important;
                    z-index: 20 !important;
                  }

                  .is-dragging .bubble-range-value { opacity: 1 !important; }

                  .is-dragging .bubble-attribute { opacity: 0 !important; }
                sub_button:
                  main: []
                  bottom: []
              # Bedroom Zone - AL: switch.adaptive_lighting_bedroom_primary
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.bedroom_primary_lights
                name: >-
                  ${(() => {
                    const mc = hass.states['switch.adaptive_lighting_bedroom_primary']?.attributes?.manual_control || [];
                    return mc.length > 0 ? 'Bed M' : 'Bedroom';
                  })()}
                icon: mdi:bed
                show_state: false
                show_attribute: true
                attribute: brightness
                scrolling_effect: false
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                double_tap_action:
                  action: call-service
                  service: light.turn_on
                  target:
                    entity_id: light.bedroom_primary_lights
                  data:
                    brightness_pct: 100
                card_mod:
                  style: |
                    ha-card {
                      background: transparent !important;
                      border: none !important;
                      box-shadow: none !important;
                    }
                styles: >-
                  .bubble-button-card-container {
                    position: relative !important;
                    display: grid !important;
                    grid-template-rows: auto auto 1fr auto !important;
                    justify-items: center !important;
                    align-items: center !important;
                    text-align: center !important;
                    min-height: 74px !important;
                    padding: 8px 6px 6px 6px !important;
                    border-radius: 14px !important;
                    overflow: hidden !important;
                    clip-path: inset(0 round 14px) !important;
                    transition: transform 0.1s ease-out, backdrop-filter 0.3s ease, border-color 0.2s ease, opacity 0.2s ease !important;
                    background: ${state === 'on'
                      ? 'rgba(255, 255, 255, 0.06)'
                      : 'rgba(255, 255, 255, 0.02)'} !important;
                    backdrop-filter: ${state === 'on'
                      ? 'blur(2px) saturate(110%)'
                      : 'blur(0.5px)'} !important;
                    -webkit-backdrop-filter: ${state === 'on'
                      ? 'blur(2px) saturate(110%)'
                      : 'blur(0.5px)'} !important;
                    border: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_bedroom_primary']?.attributes?.manual_control || []).length > 0
                          ? '1.5px solid rgba(239, 83, 80, 0.65)'
                          : '1.5px solid rgba(255, 149, 0, 0.55)')
                      : '1.5px solid rgba(80, 80, 80, 0.4)'} !important;
                    box-shadow: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_bedroom_primary']?.attributes?.manual_control || []).length > 0
                          ? '0 2px 8px rgba(239, 83, 80, 0.15)'
                          : '0 2px 8px rgba(255, 149, 0, 0.12)')
                      : 'none'} !important;
                  }

                  .bubble-button-card-container:active { transform: scale(0.96)
                  !important; }

                  .bubble-content-container {
                    display: grid !important;
                    grid-template-rows: auto auto 1fr !important;
                    justify-items: center !important;
                    width: 100% !important;
                    position: relative !important;
                    z-index: 5 !important;
                    padding-bottom: 12px !important;
                  }

                  .bubble-icon-container {
                    min-width: 32px !important;
                    min-height: 32px !important;
                    grid-row: 1 !important;
                    margin: 4px 0 4px 0 !important;
                    border-radius: 50% !important;
                    display: flex !important;
                    align-items: center !important;
                    justify-content: center !important;
                    background: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_bedroom_primary']?.attributes?.manual_control || []).length > 0
                          ? 'rgba(239, 83, 80, 0.15)'
                          : 'rgba(255, 149, 0, 0.15)')
                      : 'rgba(60, 60, 60, 0.18)'} !important;
                    border: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_bedroom_primary']?.attributes?.manual_control || []).length > 0
                          ? '1px solid rgba(239, 83, 80, 0.3)'
                          : '1px solid rgba(255, 149, 0, 0.3)')
                      : '1px solid rgba(60, 60, 60, 0.25)'} !important;
                  }

                  .bubble-icon {
                    --mdc-icon-size: 18px !important;
                    color: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_bedroom_primary']?.attributes?.manual_control || []).length > 0
                          ? 'rgb(239, 83, 80)'
                          : 'rgb(255, 149, 0)')
                      : 'rgba(20, 20, 20, 0.7)'} !important;
                    filter: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_bedroom_primary']?.attributes?.manual_control || []).length > 0
                          ? 'drop-shadow(0 0 4px rgba(239, 83, 80, 0.5))'
                          : 'drop-shadow(0 0 4px rgba(255, 149, 0, 0.5))')
                      : 'none'} !important;
                  }

                  .bubble-name-container {
                    grid-row: 2 !important;
                    margin: 2px 0 0 0 !important;
                    width: 100% !important;
                  }

                  .bubble-name {
                    font-weight: 600 !important;
                    font-size: 10px !important;
                    text-transform: uppercase !important;
                    letter-spacing: 0.8px !important;
                    line-height: 1.3 !important;
                    justify-content: center !important;
                    color: ${state === 'on'
                      ? 'rgba(255, 255, 255, 0.95)'
                      : 'rgba(10, 10, 10, 0.9)'} !important;
                    text-shadow: ${state === 'on'
                      ? '0 1px 3px rgba(0, 0, 0, 0.3)'
                      : 'none'} !important;
                  }

                  .bubble-state {
                    font-size: 11px !important;
                    font-weight: 800 !important;
                    color: rgba(10, 10, 10, 0.9) !important;
                    text-shadow: none !important;
                  }

                  .bubble-attribute {
                    font-size: 11px !important;
                    font-weight: 800 !important;
                    margin-top: 2px !important;
                    justify-content: center !important;
                    color: rgba(10, 10, 10, 0.9) !important;
                    text-shadow: none !important;
                  }

                  .bubble-range-slider {
                    position: absolute !important;
                    bottom: 6px !important;
                    left: 0 !important;
                    right: 0 !important;
                    margin: 0 auto !important;
                    width: 70% !important;
                    height: 3px !important;
                    border-radius: 3px !important;
                    z-index: 10 !important;
                    background: ${state === 'on'
                      ? 'rgba(255, 255, 255, 0.2)'
                      : 'transparent'} !important;
                    overflow: hidden !important;
                    opacity: ${state === 'on' ? '1' : '0'} !important;
                    transition: opacity 0.2s ease !important;
                  }

                  .bubble-range-fill {
                    height: 3px !important;
                    border-radius: 3px !important;
                    background: ${(hass.states['switch.adaptive_lighting_bedroom_primary']?.attributes?.manual_control || []).length > 0
                      ? 'linear-gradient(90deg, rgba(239, 83, 80, 0.8), rgba(255, 120, 100, 0.9))'
                      : 'linear-gradient(90deg, rgba(255, 149, 0, 0.8), rgba(255, 180, 80, 0.9))'} !important;
                  }

                  .bubble-range-value {
                    position: fixed !important;
                    top: 5px !important;
                    right: 6px !important;
                    font-size: 11px !important;
                    font-weight: 700 !important;
                    color: rgba(255, 255, 255, 0.95) !important;
                    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4) !important;
                    opacity: 0 !important;
                    transition: opacity 0.15s ease !important;
                    z-index: 20 !important;
                  }

                  .is-dragging .bubble-range-value { opacity: 1 !important; }

                  .is-dragging .bubble-attribute { opacity: 0 !important; }
                sub_button:
                  main: []
                  bottom: []
          # Zone slider row 2: Spots, Ceiling, Columns
          - type: horizontal-stack
            card_mod:
              style: |
                hui-horizontal-stack-card {
                  display: block !important;
                }
                #root {
                  display: flex !important;
                  justify-content: center !important;
                  align-items: stretch !important;
                  gap: 20px !important;
                  padding: 8px 16px 14px 16px !important;
                }
                #root > * {
                  flex: 0 1 auto !important;
                  width: 66px !important;
                  max-width: 66px !important;
                }
            cards:
              # Spots Zone - AL: switch.adaptive_lighting_accent_spots
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.accent_spots_lights
                name: >-
                  ${(() => {
                    const mc = hass.states['switch.adaptive_lighting_accent_spots']?.attributes?.manual_control || [];
                    return mc.length > 0 ? 'Spots M' : 'Spots';
                  })()}
                icon: mdi:track-light
                show_state: false
                show_attribute: true
                attribute: brightness
                scrolling_effect: false
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                double_tap_action:
                  action: call-service
                  service: light.turn_on
                  target:
                    entity_id: light.accent_spots_lights
                  data:
                    brightness_pct: 100
                card_mod:
                  style: |
                    ha-card {
                      background: transparent !important;
                      border: none !important;
                      box-shadow: none !important;
                    }
                styles: >-
                  .bubble-button-card-container {
                    position: relative !important;
                    display: grid !important;
                    grid-template-rows: auto auto 1fr auto !important;
                    justify-items: center !important;
                    align-items: center !important;
                    text-align: center !important;
                    min-height: 74px !important;
                    padding: 8px 6px 6px 6px !important;
                    border-radius: 14px !important;
                    overflow: hidden !important;
                    clip-path: inset(0 round 14px) !important;
                    transition: transform 0.1s ease-out, backdrop-filter 0.3s ease, border-color 0.2s ease, opacity 0.2s ease !important;
                    background: ${state === 'on'
                      ? 'rgba(255, 255, 255, 0.06)'
                      : 'rgba(255, 255, 255, 0.02)'} !important;
                    backdrop-filter: ${state === 'on'
                      ? 'blur(2px) saturate(110%)'
                      : 'blur(0.5px)'} !important;
                    -webkit-backdrop-filter: ${state === 'on'
                      ? 'blur(2px) saturate(110%)'
                      : 'blur(0.5px)'} !important;
                    border: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_accent_spots']?.attributes?.manual_control || []).length > 0
                          ? '1.5px solid rgba(239, 83, 80, 0.65)'
                          : '1.5px solid rgba(255, 149, 0, 0.55)')
                      : '1.5px solid rgba(80, 80, 80, 0.4)'} !important;
                    box-shadow: ${state === 'on'
                      ? ((hass.states['switch.adaptive_lighting_accent_spots']?.attributes?.manual_control || []).length > 0
                          ? '0 2px 8px rgba(239, 83, 80, 0.15)'
                          : '0 2px 8px rgba(255, 149, 0, 0.12)')
                      : 'none'} !important;
                  }

                  .bubble-button-card-container:active { transform: scale(0.96)
                  !important; }

                  .bubble-content-container {
                    display: grid !important;
                    grid-template-rows: auto auto 1fr !important;
                    justify-items: center !important;
                    width: 100% !important;
                    position: relative !important;
                    z-index: 5 !important;
                    padding-bottom: 12px !important;
                  }

                  .bubble-icon-container {
                    min-width: 32px !important;
                    min-height: 32px !important;
                    grid-row: 1 !important;
                    margin: 4px 0 4px 0 !important;
                    border-radius: 50% !important;
                    display: flex !important;
                    align-items: center !important;
                    justify-content: center !important;
                    background: ${state === 'on'
                      ? 'rgba(255, 149, 0, 0.15)'
                      : 'rgba(60, 60, 60, 0.18)'} !important;
                    border: ${state === 'on'
                      ? '1px solid rgba(255, 149, 0, 0.3)'
                      : '1px solid rgba(60, 60, 60, 0.25)'} !important;
                  }

                  .bubble-icon {
                    --mdc-icon-size: 18px !important;
                    color: ${state === 'on'
                      ? 'rgb(255, 149, 0)'
                      : 'rgba(20, 20, 20, 0.7)'} !important;
                    filter: ${state === 'on' ? 'drop-shadow(0 0 4px rgba(255, 149, 0, 0.5))' : 'none'} !important;
                  }

                  .bubble-name-container {
                    grid-row: 2 !important;
                    margin: 2px 0 0 0 !important;
                    width: 100% !important;
                  }

                  .bubble-name {
                    font-weight: 600 !important;
                    font-size: 10px !important;
                    text-transform: uppercase !important;
                    letter-spacing: 0.8px !important;
                    line-height: 1.3 !important;
                    justify-content: center !important;
                    color: ${state === 'on'
                      ? 'rgba(255, 255, 255, 0.95)'
                      : 'rgba(10, 10, 10, 0.9)'} !important;
                    text-shadow: ${state === 'on'
                      ? '0 1px 3px rgba(0, 0, 0, 0.3)'
                      : 'none'} !important;
                  }

                  .bubble-state {
                    font-size: 11px !important;
                    font-weight: 800 !important;
                    color: rgba(10, 10, 10, 0.9) !important;
                    text-shadow: none !important;
                  }

                  .bubble-attribute {
                    font-size: 11px !important;
                    font-weight: 800 !important;
                    margin-top: 2px !important;
                    justify-content: center !important;
                    color: rgba(10, 10, 10, 0.9) !important;
                    text-shadow: none !important;
                  }

                  .bubble-range-slider {
                    position: absolute !important;
                    bottom: 6px !important;
                    left: 0 !important;
                    right: 0 !important;
                    margin: 0 auto !important;
                    width: 70% !important;
                    height: 3px !important;
                    border-radius: 3px !important;
                    z-index: 10 !important;
                    background: ${state === 'on'
                      ? 'rgba(255, 255, 255, 0.2)'
                      : 'transparent'} !important;
                    overflow: hidden !important;
                    opacity: ${state === 'on' ? '1' : '0'} !important;
                    transition: opacity 0.2s ease !important;
                  }

                  .bubble-range-fill {
                    height: 3px !important;
                    border-radius: 3px !important;
                    background: linear-gradient(90deg, rgba(255, 149, 0, 0.8), rgba(255, 180, 80, 0.9)) !important;
                  }

                  .bubble-range-value {
                    position: fixed !important;
                    top: 5px !important;
                    right: 6px !important;
                    font-size: 11px !important;
                    font-weight: 700 !important;
                    color: rgba(255, 255, 255, 0.95) !important;
                    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4) !important;
                    opacity: 0 !important;
                    transition: opacity 0.15s ease !important;
                    z-index: 20 !important;
                  }

                  .is-dragging .bubble-range-value { opacity: 1 !important; }

                  .is-dragging .bubble-attribute { opacity: 0 !important; }
                sub_button:
                  main: []
                  bottom: []
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.overhead_lights
                name: Ceiling
                icon: mdi:ceiling-light
                show_state: false
                show_attribute: true
                attribute: brightness
                scrolling_effect: false
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                double_tap_action:
                  action: call-service
                  service: light.turn_on
                  target:
                    entity_id: light.overhead_lights
                  data:
                    brightness_pct: 100
                card_mod:
                  style: |
                    ha-card {
                      background: transparent !important;
                      border: none !important;
                      box-shadow: none !important;
                    }
                styles: >-
                  .bubble-button-card-container {
                    position: relative !important;
                    display: grid !important;
                    grid-template-rows: auto auto 1fr auto !important;
                    justify-items: center !important;
                    align-items: center !important;
                    text-align: center !important;
                    min-height: 74px !important;
                    padding: 8px 6px 6px 6px !important;
                    border-radius: 14px !important;
                    overflow: hidden !important;
                    clip-path: inset(0 round 14px) !important;
                    transition: transform 0.1s ease-out, backdrop-filter 0.3s ease, border-color 0.2s ease, opacity 0.2s ease !important;
                    /* CHANGE: Increased opacity slightly (0.06 -> 0.12) and (0.02 -> 0.15) for better separation */
                    background: ${state === 'on' 
                      ? 'rgba(255, 255, 255, 0.12)' 
                      : 'rgba(255, 255, 255, 0.15)'} !important;
                    /* CHANGE: Increased blur (2px -> 5px) to smooth out background noise */
                    backdrop-filter: ${state === 'on' 
                      ? 'blur(5px) saturate(110%)' 
                      : 'blur(3px)'} !important;
                    -webkit-backdrop-filter: ${state === 'on' 
                      ? 'blur(5px) saturate(110%)' 
                      : 'blur(3px)'} !important;
                    /* CHANGE: Made Off border slightly more visible (white) to define edge against busy bg */
                    border: ${state === 'on' 
                      ? '1.5px solid rgba(255, 149, 0, 0.55)' 
                      : '1.5px solid rgba(255, 255, 255, 0.3)'} !important;
                    box-shadow: ${state === 'on' 
                      ? '0 2px 8px rgba(255, 149, 0, 0.12)' 
                      : 'none'} !important;
                  }

                  .bubble-button-card-container:active { transform: scale(0.96)
                  !important; }

                  .bubble-content-container {
                    display: grid !important;
                    grid-template-rows: auto auto 1fr !important;
                    justify-items: center !important;
                    width: 100% !important;
                    position: relative !important;
                    z-index: 5 !important;
                    padding-bottom: 12px !important;
                  }

                  .bubble-icon-container {
                    min-width: 32px !important;
                    min-height: 32px !important;
                    grid-row: 1 !important;
                    margin: 4px 0 4px 0 !important;
                    border-radius: 50% !important;
                    display: flex !important;
                    align-items: center !important;
                    justify-content: center !important;
                    background: ${state === 'on' 
                      ? 'rgba(255, 149, 0, 0.15)' 
                      : 'rgba(60, 60, 60, 0.18)'} !important;
                    border: ${state === 'on' 
                      ? '1px solid rgba(255, 149, 0, 0.3)' 
                      : '1px solid rgba(60, 60, 60, 0.25)'} !important;
                  }

                  .bubble-icon {
                    --mdc-icon-size: 18px !important;
                    color: ${state === 'on' 
                      ? 'rgb(255, 149, 0)' 
                      : 'rgba(20, 20, 20, 0.7)'} !important;
                    filter: ${state === 'on' ? 'drop-shadow(0 0 4px rgba(255, 149, 0, 0.5))' : 'none'} !important;
                  }

                  .bubble-name-container {
                    grid-row: 2 !important;
                    margin: 2px 0 0 0 !important;
                    width: 100% !important;
                  }

                  .bubble-name {
                    font-weight: 600 !important;
                    font-size: 10px !important;
                    text-transform: uppercase !important;
                    letter-spacing: 0.8px !important;
                    line-height: 1.3 !important;
                    justify-content: center !important;
                    color: ${state === 'on' 
                      ? 'rgba(255, 255, 255, 0.95)' 
                      : 'rgba(10, 10, 10, 0.9)'} !important;
                    /* CHANGE: Strengthened text shadow (0.3 -> 0.8 opacity) and radius (3px -> 4px) */
                    text-shadow: ${state === 'on' 
                      ? '0 1px 4px rgba(0, 0, 0, 0.8)' 
                      : '0 0 4px rgba(255, 255, 255, 0.5)'} !important;
                  }

                  .bubble-state {
                    font-size: 11px !important;
                    font-weight: 800 !important;
                    color: rgba(10, 10, 10, 0.9) !important;
                    text-shadow: none !important;
                  }

                  .bubble-attribute {
                    font-size: 11px !important;
                    font-weight: 800 !important;
                    margin-top: 2px !important;
                    justify-content: center !important;
                    color: rgba(10, 10, 10, 0.9) !important;
                    text-shadow: none !important;
                  }

                  .bubble-range-slider {
                    position: absolute !important;
                    bottom: 6px !important;
                    left: 0 !important;
                    right: 0 !important;
                    margin: 0 auto !important;
                    width: 70% !important;
                    height: 3px !important;
                    border-radius: 3px !important;
                    z-index: 10 !important;
                    background: ${state === 'on' 
                      ? 'rgba(255, 255, 255, 0.2)' 
                      : 'transparent'} !important;
                    overflow: hidden !important;
                    opacity: ${state === 'on' ? '1' : '0'} !important;
                    transition: opacity 0.2s ease !important;
                  }

                  .bubble-range-fill {
                    height: 3px !important;
                    border-radius: 3px !important;
                    background: linear-gradient(90deg, rgba(255, 149, 0, 0.8), rgba(255, 180, 80, 0.9)) !important;
                  }

                  .bubble-range-value {
                    position: fixed !important;
                    top: 5px !important;
                    right: 6px !important;
                    font-size: 11px !important;
                    font-weight: 700 !important;
                    color: rgba(255, 255, 255, 0.95) !important;
                    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.6) !important;
                    opacity: 0 !important;
                    transition: opacity 0.15s ease !important;
                    z-index: 20 !important;
                  }

                  .is-dragging .bubble-range-value { opacity: 1 !important; }
                  .is-dragging .bubble-attribute { opacity: 0 !important; }
                sub_button:
                  main: []
                  bottom: []
        grid_options:
          columns: full
          rows: auto
    column_span: 6
  # 
  # SECTION 2: LIVING ROOM (column_span: 3 - left half)
  # 
  - type: grid
    cards:
      - type: custom:stack-in-card
        keep:
          background: false
          box_shadow: false
          margin: false
          outer_padding: false
          border_radius: false
        card_mod:
          style: |
            ha-card {
              background: var(--ha-card-background, rgba(255,255,255,0.96)) !important;
              border-radius: 24px !important;
              padding: 12px 12px 16px 12px !important;
              border: 1px solid rgba(0,0,0,0.03) !important;
              box-shadow: 0 6px 20px rgba(0,0,0,0.04) !important;
            }
        cards:
          - type: custom:bubble-card
            card_type: separator
            name: Living Room
            icon: mdi:sofa
            sub_button:
              - entity: light.living_room_lights
                show_background: true
                tap_action:
                  action: toggle
            styles: |
              .bubble-separator-container {
                background: transparent !important;
                border: none !important;
                margin-bottom: 0px !important;
                padding-left: 8px !important;
              }
              .bubble-name {
                font-weight: 700 !important;
                font-size: 18px !important;
                color: #000 !important;
              }
              .bubble-icon-container {
                background: rgba(255,152,0,0.15) !important;
              }
              .bubble-icon {
                color: rgba(255,152,0,1) !important;
              }
              .bubble-sub-button-container {
                top: 50% !important;
                transform: translateY(-50%) !important;
              }
          - type: grid
            columns: 2
            square: false
            cards:
              # Row 1: Couch Lamp + Floor Lamp
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.living_room_couch_lamp
                name: Couch Lamp
                icon: mdi:floor-lamp
                show_state: false
                show_attribute: true
                attribute: brightness
                scrolling_effect: false
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                double_tap_action:
                  action: call-service
                  service: light.turn_on
                  target:
                    entity_id: light.living_room_couch_lamp
                  data:
                    brightness_pct: 100
                styles: |-
                  .bubble-button-card-container {
                    position: relative !important;
                    display: grid !important;
                    grid-template-rows: auto auto 1fr auto !important;
                    justify-items: center !important;
                    align-items: center !important;
                    text-align: center !important;
                    min-height: 90px !important;
                    padding: 24px 10px 8px 10px !important;
                    border-radius: 14px !important;
                    overflow: hidden !important;
                    clip-path: inset(0 round 14px) !important;
                    transition: transform 0.05s ease-out, box-shadow 0.05s ease-out, background 0.05s ease-out, border-color 0.05s ease-out !important;
                    background: ${state === 'on' ? 'rgba(255,255,255,1)' : 'linear-gradient(145deg, rgba(0,0,0,0.02), rgba(0,0,0,0.04))'} !important;
                    border: ${state === 'on' ? '1.5px solid rgba(255,152,0,0.35)' : '1px solid rgba(0,0,0,0.03)'} !important;
                    transform: translateZ(0) !important;
                  }
                  .bubble-button-card-container:hover {
                    transform: translateY(-1px) !important;
                    box-shadow: 0 8px 18px rgba(0,0,0,0.16) !important;
                  }
                  .bubble-content-container {
                    display: grid !important;
                    grid-template-rows: auto auto 1fr !important;
                    justify-items: center !important;
                    width: 100% !important;
                    position: relative !important;
                    z-index: 5 !important;
                    padding-bottom: 20px !important;
                    pointer-events: auto !important;
                  }
                  .bubble-icon-container {
                    min-width: 40px !important;
                    min-height: 40px !important;
                    grid-row: 1 !important;
                    margin: 6px 0 1px 0 !important;
                    border-radius: 50% !important;
                    display: flex !important;
                    align-items: center !important;
                    justify-content: center !important;
                    position: relative !important;
                    z-index: 5 !important;
                    background: ${state === 'on' ? 'rgba(255,152,0,0.18)' : 'rgba(0,0,0,0.06)'} !important;
                  }
                  .bubble-icon {
                    --mdc-icon-size: 30px !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,0.96)' : 'rgba(0,0,0,0.45)'} !important;
                  }
                  .bubble-name-container {
                    grid-row: 2 !important;
                    margin: 0 !important;
                    width: 100% !important;
                    display: flex !important;
                    flex-direction: column !important;
                    align-items: center !important;
                    position: relative !important;
                    z-index: 5 !important;
                  }
                  .bubble-name {
                    font-weight: 600 !important;
                    font-size: 13px !important;
                    line-height: 1.2 !important;
                    justify-content: center !important;
                    opacity: ${state === 'on' ? '1' : '0.75'} !important;
                  }
                  .bubble-attribute {
                    font-size: 12px !important;
                    margin-top: 2px !important;
                    justify-content: center !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,0.9)' : 'rgba(0,0,0,0.55)'} !important;
                    position: relative !important;
                    z-index: 5 !important;
                    transition: opacity 0.2s ease-in-out !important;
                  }
                  .bubble-range-slider {
                    position: absolute !important;
                    bottom: 6px !important;
                    left: 0 !important;
                    right: 0 !important;
                    margin: 0 auto !important;
                    width: 86% !important;
                    height: 6px !important;
                    border-radius: 6px !important;
                    z-index: 10 !important;
                    background: ${state === 'on' ? 'rgba(0,0,0,0.02)' : 'transparent'} !important;
                    overflow: hidden !important;
                    cursor: grab !important;
                  }
                  .bubble-range-fill {
                    height: 6px !important;
                    border-radius: 6px !important;
                    background: rgba(255,152,0,0.9) !important;
                    z-index: 5 !important;
                    pointer-events: none !important;
                  }
                  .bubble-range-value {
                    position: fixed !important;
                    top: 10px !important;
                    right: 12px !important;
                    left: auto !important;
                    bottom: auto !important;
                    transform: none !important;
                    background: transparent !important;
                    box-shadow: none !important;
                    border: none !important;
                    font-size: 15px !important;
                    font-weight: 700 !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,1)' : 'rgba(0,0,0,0.6)'} !important;
                    opacity: 0 !important;
                    pointer-events: none !important;
                    transition: opacity 0.2s ease-in-out !important;
                    z-index: 20 !important;
                  }
                  .is-dragging .bubble-range-value,
                  .bubble-range-slider:active .bubble-range-value {
                    opacity: 1 !important;
                    visibility: visible !important;
                    display: block !important;
                  }
                  .is-dragging .bubble-attribute { opacity: 0 !important; }
                sub_button:
                  main: []
                  bottom: []
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.living_room_floor_lamp
                name: Floor Lamp
                icon: mdi:floor-lamp-outline
                show_state: false
                show_attribute: true
                attribute: brightness
                scrolling_effect: false
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                double_tap_action:
                  action: call-service
                  service: light.turn_on
                  target:
                    entity_id: light.living_room_floor_lamp
                  data:
                    brightness_pct: 100
                styles: |-
                  .bubble-button-card-container {
                    position: relative !important;
                    display: grid !important;
                    grid-template-rows: auto auto 1fr auto !important;
                    justify-items: center !important;
                    align-items: center !important;
                    text-align: center !important;
                    min-height: 90px !important;
                    padding: 24px 10px 8px 10px !important;
                    border-radius: 14px !important;
                    overflow: hidden !important;
                    clip-path: inset(0 round 14px) !important;
                    transition: transform 0.05s ease-out, box-shadow 0.05s ease-out, background 0.05s ease-out, border-color 0.05s ease-out !important;
                    background: ${state === 'on' ? 'rgba(255,255,255,1)' : 'linear-gradient(145deg, rgba(0,0,0,0.02), rgba(0,0,0,0.04))'} !important;
                    border: ${state === 'on' ? '1.5px solid rgba(255,152,0,0.35)' : '1px solid rgba(0,0,0,0.03)'} !important;
                    transform: translateZ(0) !important;
                  }
                  .bubble-button-card-container:hover {
                    transform: translateY(-1px) !important;
                    box-shadow: 0 8px 18px rgba(0,0,0,0.16) !important;
                  }
                  .bubble-content-container {
                    display: grid !important;
                    grid-template-rows: auto auto 1fr !important;
                    justify-items: center !important;
                    width: 100% !important;
                    position: relative !important;
                    z-index: 5 !important;
                    padding-bottom: 20px !important;
                    pointer-events: auto !important;
                  }
                  .bubble-icon-container {
                    min-width: 40px !important;
                    min-height: 40px !important;
                    grid-row: 1 !important;
                    margin: 6px 0 1px 0 !important;
                    border-radius: 50% !important;
                    display: flex !important;
                    align-items: center !important;
                    justify-content: center !important;
                    position: relative !important;
                    z-index: 5 !important;
                    background: ${state === 'on' ? 'rgba(255,152,0,0.18)' : 'rgba(0,0,0,0.06)'} !important;
                  }
                  .bubble-icon {
                    --mdc-icon-size: 30px !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,0.96)' : 'rgba(0,0,0,0.45)'} !important;
                  }
                  .bubble-name-container {
                    grid-row: 2 !important;
                    margin: 0 !important;
                    width: 100% !important;
                    display: flex !important;
                    flex-direction: column !important;
                    align-items: center !important;
                    position: relative !important;
                    z-index: 5 !important;
                  }
                  .bubble-name {
                    font-weight: 600 !important;
                    font-size: 13px !important;
                    line-height: 1.2 !important;
                    justify-content: center !important;
                    opacity: ${state === 'on' ? '1' : '0.75'} !important;
                  }
                  .bubble-attribute {
                    font-size: 12px !important;
                    margin-top: 2px !important;
                    justify-content: center !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,0.9)' : 'rgba(0,0,0,0.55)'} !important;
                    position: relative !important;
                    z-index: 5 !important;
                    transition: opacity 0.2s ease-in-out !important;
                  }
                  .bubble-range-slider {
                    position: absolute !important;
                    bottom: 6px !important;
                    left: 0 !important;
                    right: 0 !important;
                    margin: 0 auto !important;
                    width: 86% !important;
                    height: 6px !important;
                    border-radius: 6px !important;
                    z-index: 10 !important;
                    background: ${state === 'on' ? 'rgba(0,0,0,0.02)' : 'transparent'} !important;
                    overflow: hidden !important;
                    cursor: grab !important;
                  }
                  .bubble-range-fill {
                    height: 6px !important;
                    border-radius: 6px !important;
                    background: rgba(255,152,0,0.9) !important;
                    z-index: 5 !important;
                    pointer-events: none !important;
                  }
                  .bubble-range-value {
                    position: fixed !important;
                    top: 10px !important;
                    right: 12px !important;
                    left: auto !important;
                    bottom: auto !important;
                    transform: none !important;
                    background: transparent !important;
                    box-shadow: none !important;
                    border: none !important;
                    font-size: 15px !important;
                    font-weight: 700 !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,1)' : 'rgba(0,0,0,0.6)'} !important;
                    opacity: 0 !important;
                    pointer-events: none !important;
                    transition: opacity 0.2s ease-in-out !important;
                    z-index: 20 !important;
                  }
                  .is-dragging .bubble-range-value,
                  .bubble-range-slider:active .bubble-range-value {
                    opacity: 1 !important;
                    visibility: visible !important;
                    display: block !important;
                  }
                  .is-dragging .bubble-attribute { opacity: 0 !important; }
                sub_button:
                  main: []
                  bottom: []
              # Row 2: Entry Lamp + Credenza
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.entryway_lamp
                name: Entry Lamp
                icon: mdi:lamp
                show_state: false
                show_attribute: true
                attribute: brightness
                scrolling_effect: false
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                double_tap_action:
                  action: call-service
                  service: light.turn_on
                  target:
                    entity_id: light.entryway_lamp
                  data:
                    brightness_pct: 100
                styles: |-
                  .bubble-button-card-container {
                    position: relative !important;
                    display: grid !important;
                    grid-template-rows: auto auto 1fr auto !important;
                    justify-items: center !important;
                    align-items: center !important;
                    text-align: center !important;
                    min-height: 90px !important;
                    padding: 24px 10px 8px 10px !important;
                    border-radius: 14px !important;
                    overflow: hidden !important;
                    clip-path: inset(0 round 14px) !important;
                    transition: transform 0.05s ease-out, box-shadow 0.05s ease-out, background 0.05s ease-out, border-color 0.05s ease-out !important;
                    background: ${state === 'on' ? 'rgba(255,255,255,1)' : 'linear-gradient(145deg, rgba(0,0,0,0.02), rgba(0,0,0,0.04))'} !important;
                    border: ${state === 'on' ? '1.5px solid rgba(255,152,0,0.35)' : '1px solid rgba(0,0,0,0.03)'} !important;
                    transform: translateZ(0) !important;
                  }
                  .bubble-button-card-container:hover {
                    transform: translateY(-1px) !important;
                    box-shadow: 0 8px 18px rgba(0,0,0,0.16) !important;
                  }
                  .bubble-content-container {
                    display: grid !important;
                    grid-template-rows: auto auto 1fr !important;
                    justify-items: center !important;
                    width: 100% !important;
                    position: relative !important;
                    z-index: 5 !important;
                    padding-bottom: 20px !important;
                    pointer-events: auto !important;
                  }
                  .bubble-icon-container {
                    min-width: 40px !important;
                    min-height: 40px !important;
                    grid-row: 1 !important;
                    margin: 6px 0 1px 0 !important;
                    border-radius: 50% !important;
                    display: flex !important;
                    align-items: center !important;
                    justify-content: center !important;
                    position: relative !important;
                    z-index: 5 !important;
                    background: ${state === 'on' ? 'rgba(255,152,0,0.18)' : 'rgba(0,0,0,0.06)'} !important;
                  }
                  .bubble-icon {
                    --mdc-icon-size: 30px !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,0.96)' : 'rgba(0,0,0,0.45)'} !important;
                  }
                  .bubble-name-container {
                    grid-row: 2 !important;
                    margin: 0 !important;
                    width: 100% !important;
                    display: flex !important;
                    flex-direction: column !important;
                    align-items: center !important;
                    position: relative !important;
                    z-index: 5 !important;
                  }
                  .bubble-name {
                    font-weight: 600 !important;
                    font-size: 13px !important;
                    line-height: 1.2 !important;
                    justify-content: center !important;
                    opacity: ${state === 'on' ? '1' : '0.75'} !important;
                  }
                  .bubble-attribute {
                    font-size: 12px !important;
                    margin-top: 2px !important;
                    justify-content: center !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,0.9)' : 'rgba(0,0,0,0.55)'} !important;
                    position: relative !important;
                    z-index: 5 !important;
                    transition: opacity 0.2s ease-in-out !important;
                  }
                  .bubble-range-slider {
                    position: absolute !important;
                    bottom: 6px !important;
                    left: 0 !important;
                    right: 0 !important;
                    margin: 0 auto !important;
                    width: 86% !important;
                    height: 6px !important;
                    border-radius: 6px !important;
                    z-index: 10 !important;
                    background: ${state === 'on' ? 'rgba(0,0,0,0.02)' : 'transparent'} !important;
                    overflow: hidden !important;
                    cursor: grab !important;
                  }
                  .bubble-range-fill {
                    height: 6px !important;
                    border-radius: 6px !important;
                    background: rgba(255,152,0,0.9) !important;
                    z-index: 5 !important;
                    pointer-events: none !important;
                  }
                  .bubble-range-value {
                    position: fixed !important;
                    top: 10px !important;
                    right: 12px !important;
                    left: auto !important;
                    bottom: auto !important;
                    transform: none !important;
                    background: transparent !important;
                    box-shadow: none !important;
                    border: none !important;
                    font-size: 15px !important;
                    font-weight: 700 !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,1)' : 'rgba(0,0,0,0.6)'} !important;
                    opacity: 0 !important;
                    pointer-events: none !important;
                    transition: opacity 0.2s ease-in-out !important;
                    z-index: 20 !important;
                  }
                  .is-dragging .bubble-range-value,
                  .bubble-range-slider:active .bubble-range-value {
                    opacity: 1 !important;
                    visibility: visible !important;
                    display: block !important;
                  }
                  .is-dragging .bubble-attribute { opacity: 0 !important; }
                sub_button:
                  main: []
                  bottom: []
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.living_room_credenza_light
                name: Credenza
                icon: mdi:lamp-outline
                show_state: false
                show_attribute: true
                attribute: brightness
                scrolling_effect: false
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                double_tap_action:
                  action: call-service
                  service: light.turn_on
                  target:
                    entity_id: light.living_room_credenza_light
                  data:
                    brightness_pct: 100
                styles: |-
                  .bubble-button-card-container {
                    position: relative !important;
                    display: grid !important;
                    grid-template-rows: auto auto 1fr auto !important;
                    justify-items: center !important;
                    align-items: center !important;
                    text-align: center !important;
                    min-height: 90px !important;
                    padding: 24px 10px 8px 10px !important;
                    border-radius: 14px !important;
                    overflow: hidden !important;
                    clip-path: inset(0 round 14px) !important;
                    transition: transform 0.05s ease-out, box-shadow 0.05s ease-out, background 0.05s ease-out, border-color 0.05s ease-out !important;
                    background: ${state === 'on' ? 'rgba(255,255,255,1)' : 'linear-gradient(145deg, rgba(0,0,0,0.02), rgba(0,0,0,0.04))'} !important;
                    border: ${state === 'on' ? '1.5px solid rgba(255,152,0,0.35)' : '1px solid rgba(0,0,0,0.03)'} !important;
                    transform: translateZ(0) !important;
                  }
                  .bubble-button-card-container:hover {
                    transform: translateY(-1px) !important;
                    box-shadow: 0 8px 18px rgba(0,0,0,0.16) !important;
                  }
                  .bubble-content-container {
                    display: grid !important;
                    grid-template-rows: auto auto 1fr !important;
                    justify-items: center !important;
                    width: 100% !important;
                    position: relative !important;
                    z-index: 5 !important;
                    padding-bottom: 20px !important;
                    pointer-events: auto !important;
                  }
                  .bubble-icon-container {
                    min-width: 40px !important;
                    min-height: 40px !important;
                    grid-row: 1 !important;
                    margin: 6px 0 1px 0 !important;
                    border-radius: 50% !important;
                    display: flex !important;
                    align-items: center !important;
                    justify-content: center !important;
                    position: relative !important;
                    z-index: 5 !important;
                    background: ${state === 'on' ? 'rgba(255,152,0,0.18)' : 'rgba(0,0,0,0.06)'} !important;
                  }
                  .bubble-icon {
                    --mdc-icon-size: 30px !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,0.96)' : 'rgba(0,0,0,0.45)'} !important;
                  }
                  .bubble-name-container {
                    grid-row: 2 !important;
                    margin: 0 !important;
                    width: 100% !important;
                    display: flex !important;
                    flex-direction: column !important;
                    align-items: center !important;
                    position: relative !important;
                    z-index: 5 !important;
                  }
                  .bubble-name {
                    font-weight: 600 !important;
                    font-size: 13px !important;
                    line-height: 1.2 !important;
                    justify-content: center !important;
                    opacity: ${state === 'on' ? '1' : '0.75'} !important;
                  }
                  .bubble-attribute {
                    font-size: 12px !important;
                    margin-top: 2px !important;
                    justify-content: center !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,0.9)' : 'rgba(0,0,0,0.55)'} !important;
                    position: relative !important;
                    z-index: 5 !important;
                    transition: opacity 0.2s ease-in-out !important;
                  }
                  .bubble-range-slider {
                    position: absolute !important;
                    bottom: 6px !important;
                    left: 0 !important;
                    right: 0 !important;
                    margin: 0 auto !important;
                    width: 86% !important;
                    height: 6px !important;
                    border-radius: 6px !important;
                    z-index: 10 !important;
                    background: ${state === 'on' ? 'rgba(0,0,0,0.02)' : 'transparent'} !important;
                    overflow: hidden !important;
                    cursor: grab !important;
                  }
                  .bubble-range-fill {
                    height: 6px !important;
                    border-radius: 6px !important;
                    background: rgba(255,152,0,0.9) !important;
                    z-index: 5 !important;
                    pointer-events: none !important;
                  }
                  .bubble-range-value {
                    position: fixed !important;
                    top: 10px !important;
                    right: 12px !important;
                    left: auto !important;
                    bottom: auto !important;
                    transform: none !important;
                    background: transparent !important;
                    box-shadow: none !important;
                    border: none !important;
                    font-size: 15px !important;
                    font-weight: 700 !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,1)' : 'rgba(0,0,0,0.6)'} !important;
                    opacity: 0 !important;
                    pointer-events: none !important;
                    transition: opacity 0.2s ease-in-out !important;
                    z-index: 20 !important;
                  }
                  .is-dragging .bubble-range-value,
                  .bubble-range-slider:active .bubble-range-value {
                    opacity: 1 !important;
                    visibility: visible !important;
                    display: block !important;
                  }
                  .is-dragging .bubble-attribute { opacity: 0 !important; }
                sub_button:
                  main: []
                  bottom: []
              # Row 3: Corner Accent + Office Desk
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.living_room_corner_accent
                name: Corner Accent
                icon: mdi:wall-sconce
                show_state: false
                show_attribute: true
                attribute: brightness
                scrolling_effect: false
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                double_tap_action:
                  action: call-service
                  service: light.turn_on
                  target:
                    entity_id: light.living_room_corner_accent
                  data:
                    brightness_pct: 100
                styles: |-
                  .bubble-button-card-container {
                    position: relative !important;
                    display: grid !important;
                    grid-template-rows: auto auto 1fr auto !important;
                    justify-items: center !important;
                    align-items: center !important;
                    text-align: center !important;
                    min-height: 90px !important;
                    padding: 24px 10px 8px 10px !important;
                    border-radius: 14px !important;
                    overflow: hidden !important;
                    clip-path: inset(0 round 14px) !important;
                    transition: transform 0.05s ease-out, box-shadow 0.05s ease-out, background 0.05s ease-out, border-color 0.05s ease-out !important;
                    background: ${state === 'on' ? 'rgba(255,255,255,1)' : 'linear-gradient(145deg, rgba(0,0,0,0.02), rgba(0,0,0,0.04))'} !important;
                    border: ${state === 'on' ? '1.5px solid rgba(255,152,0,0.35)' : '1px solid rgba(0,0,0,0.03)'} !important;
                    transform: translateZ(0) !important;
                  }
                  .bubble-button-card-container:hover {
                    transform: translateY(-1px) !important;
                    box-shadow: 0 8px 18px rgba(0,0,0,0.16) !important;
                  }
                  .bubble-content-container {
                    display: grid !important;
                    grid-template-rows: auto auto 1fr !important;
                    justify-items: center !important;
                    width: 100% !important;
                    position: relative !important;
                    z-index: 5 !important;
                    padding-bottom: 20px !important;
                    pointer-events: auto !important;
                  }
                  .bubble-icon-container {
                    min-width: 40px !important;
                    min-height: 40px !important;
                    grid-row: 1 !important;
                    margin: 6px 0 1px 0 !important;
                    border-radius: 50% !important;
                    display: flex !important;
                    align-items: center !important;
                    justify-content: center !important;
                    position: relative !important;
                    z-index: 5 !important;
                    background: ${state === 'on' ? 'rgba(255,152,0,0.18)' : 'rgba(0,0,0,0.06)'} !important;
                  }
                  .bubble-icon {
                    --mdc-icon-size: 30px !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,0.96)' : 'rgba(0,0,0,0.45)'} !important;
                  }
                  .bubble-name-container {
                    grid-row: 2 !important;
                    margin: 0 !important;
                    width: 100% !important;
                    display: flex !important;
                    flex-direction: column !important;
                    align-items: center !important;
                    position: relative !important;
                    z-index: 5 !important;
                  }
                  .bubble-name {
                    font-weight: 600 !important;
                    font-size: 13px !important;
                    line-height: 1.2 !important;
                    justify-content: center !important;
                    opacity: ${state === 'on' ? '1' : '0.75'} !important;
                  }
                  .bubble-attribute {
                    font-size: 12px !important;
                    margin-top: 2px !important;
                    justify-content: center !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,0.9)' : 'rgba(0,0,0,0.55)'} !important;
                    position: relative !important;
                    z-index: 5 !important;
                    transition: opacity 0.2s ease-in-out !important;
                  }
                  .bubble-range-slider {
                    position: absolute !important;
                    bottom: 6px !important;
                    left: 0 !important;
                    right: 0 !important;
                    margin: 0 auto !important;
                    width: 86% !important;
                    height: 6px !important;
                    border-radius: 6px !important;
                    z-index: 10 !important;
                    background: ${state === 'on' ? 'rgba(0,0,0,0.02)' : 'transparent'} !important;
                    overflow: hidden !important;
                    cursor: grab !important;
                  }
                  .bubble-range-fill {
                    height: 6px !important;
                    border-radius: 6px !important;
                    background: rgba(255,152,0,0.9) !important;
                    z-index: 5 !important;
                    pointer-events: none !important;
                  }
                  .bubble-range-value {
                    position: fixed !important;
                    top: 10px !important;
                    right: 12px !important;
                    left: auto !important;
                    bottom: auto !important;
                    transform: none !important;
                    background: transparent !important;
                    box-shadow: none !important;
                    border: none !important;
                    font-size: 15px !important;
                    font-weight: 700 !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,1)' : 'rgba(0,0,0,0.6)'} !important;
                    opacity: 0 !important;
                    pointer-events: none !important;
                    transition: opacity 0.2s ease-in-out !important;
                    z-index: 20 !important;
                  }
                  .is-dragging .bubble-range-value,
                  .bubble-range-slider:active .bubble-range-value {
                    opacity: 1 !important;
                    visibility: visible !important;
                    display: block !important;
                  }
                  .is-dragging .bubble-attribute { opacity: 0 !important; }
                sub_button:
                  main: []
                  bottom: []
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.office_desk_lamp
                name: Office Desk
                icon: mdi:desk-lamp
                show_state: false
                show_attribute: true
                attribute: brightness
                scrolling_effect: false
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                double_tap_action:
                  action: call-service
                  service: light.turn_on
                  target:
                    entity_id: light.office_desk_lamp
                  data:
                    brightness_pct: 100
                styles: |-
                  .bubble-button-card-container {
                    position: relative !important;
                    display: grid !important;
                    grid-template-rows: auto auto 1fr auto !important;
                    justify-items: center !important;
                    align-items: center !important;
                    text-align: center !important;
                    min-height: 90px !important;
                    padding: 24px 10px 8px 10px !important;
                    border-radius: 14px !important;
                    overflow: hidden !important;
                    clip-path: inset(0 round 14px) !important;
                    transition: transform 0.05s ease-out, box-shadow 0.05s ease-out, background 0.05s ease-out, border-color 0.05s ease-out !important;
                    background: ${state === 'on' ? 'rgba(255,255,255,1)' : 'linear-gradient(145deg, rgba(0,0,0,0.02), rgba(0,0,0,0.04))'} !important;
                    border: ${state === 'on' ? '1.5px solid rgba(255,152,0,0.35)' : '1px solid rgba(0,0,0,0.03)'} !important;
                    transform: translateZ(0) !important;
                  }
                  .bubble-button-card-container:hover {
                    transform: translateY(-1px) !important;
                    box-shadow: 0 8px 18px rgba(0,0,0,0.16) !important;
                  }
                  .bubble-content-container {
                    display: grid !important;
                    grid-template-rows: auto auto 1fr !important;
                    justify-items: center !important;
                    width: 100% !important;
                    position: relative !important;
                    z-index: 5 !important;
                    padding-bottom: 20px !important;
                    pointer-events: auto !important;
                  }
                  .bubble-icon-container {
                    min-width: 40px !important;
                    min-height: 40px !important;
                    grid-row: 1 !important;
                    margin: 6px 0 1px 0 !important;
                    border-radius: 50% !important;
                    display: flex !important;
                    align-items: center !important;
                    justify-content: center !important;
                    position: relative !important;
                    z-index: 5 !important;
                    background: ${state === 'on' ? 'rgba(255,152,0,0.18)' : 'rgba(0,0,0,0.06)'} !important;
                  }
                  .bubble-icon {
                    --mdc-icon-size: 30px !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,0.96)' : 'rgba(0,0,0,0.45)'} !important;
                  }
                  .bubble-name-container {
                    grid-row: 2 !important;
                    margin: 0 !important;
                    width: 100% !important;
                    display: flex !important;
                    flex-direction: column !important;
                    align-items: center !important;
                    position: relative !important;
                    z-index: 5 !important;
                  }
                  .bubble-name {
                    font-weight: 600 !important;
                    font-size: 13px !important;
                    line-height: 1.2 !important;
                    justify-content: center !important;
                    opacity: ${state === 'on' ? '1' : '0.75'} !important;
                  }
                  .bubble-attribute {
                    font-size: 12px !important;
                    margin-top: 2px !important;
                    justify-content: center !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,0.9)' : 'rgba(0,0,0,0.55)'} !important;
                    position: relative !important;
                    z-index: 5 !important;
                    transition: opacity 0.2s ease-in-out !important;
                  }
                  .bubble-range-slider {
                    position: absolute !important;
                    bottom: 6px !important;
                    left: 0 !important;
                    right: 0 !important;
                    margin: 0 auto !important;
                    width: 86% !important;
                    height: 6px !important;
                    border-radius: 6px !important;
                    z-index: 10 !important;
                    background: ${state === 'on' ? 'rgba(0,0,0,0.02)' : 'transparent'} !important;
                    overflow: hidden !important;
                    cursor: grab !important;
                  }
                  .bubble-range-fill {
                    height: 6px !important;
                    border-radius: 6px !important;
                    background: rgba(255,152,0,0.9) !important;
                    z-index: 5 !important;
                    pointer-events: none !important;
                  }
                  .bubble-range-value {
                    position: fixed !important;
                    top: 10px !important;
                    right: 12px !important;
                    left: auto !important;
                    bottom: auto !important;
                    transform: none !important;
                    background: transparent !important;
                    box-shadow: none !important;
                    border: none !important;
                    font-size: 15px !important;
                    font-weight: 700 !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,1)' : 'rgba(0,0,0,0.6)'} !important;
                    opacity: 0 !important;
                    pointer-events: none !important;
                    transition: opacity 0.2s ease-in-out !important;
                    z-index: 20 !important;
                  }
                  .is-dragging .bubble-range-value,
                  .bubble-range-slider:active .bubble-range-value {
                    opacity: 1 !important;
                    visibility: visible !important;
                    display: block !important;
                  }
                  .is-dragging .bubble-attribute { opacity: 0 !important; }
                sub_button:
                  main: []
                  bottom: []
    column_span: 3
  # 
  # SECTION 3: SONOS + CLIMATE (column_span: 3 - right half)
  # 
  - type: grid
    cards:
      - type: custom:bubble-card
        card_type: media-player
        entity: media_player.living_room
        name: Sonos
        icon: mdi:speaker-wireless
        card_layout: large-2-rows
        scrolling_effect: true
        show_state: true
        show_icon: true
        show_name: true
        show_last_changed: false
        show_attribute: false
        cover_background: true
        hide:
          power_button: true
          previous_button: false
          next_button: false
          volume_button: false
          play_pause_button: false
        button_action:
          tap_action:
            action: more-info
        sub_button:
          main:
            - name: Group all
              icon: mdi:speaker-multiple
              entity: media_player.living_room
              show_state: false
              show_background: true
              state_background: false
              tap_action:
                action: call-service
                service: script.sonos_group_all_to_playing
            - name: Ungroup
              icon: mdi:speaker-off
              entity: media_player.living_room
              show_state: false
              show_background: true
              state_background: false
              tap_action:
                action: call-service
                service: script.sonos_ungroup_all
          bottom: []
        styles: |
          ha-card {
            --bubble-border-radius: 24px;
          }
      - type: custom:bubble-card
        card_type: climate
        entity: climate.dining_room
        name: Climate
        icon: mdi:thermostat
        styles: |
          ha-card {
            --bubble-border-radius: 24px;
          }
    column_span: 3
  # 
  # SECTION 4: BEDROOM (existing - now full width below)
  # 
  - type: grid
    cards:
      - type: heading
        heading: Overall Room view
        heading_style: subtitle
      - type: custom:stack-in-card
        keep:
          background: false
          box_shadow: false
          margin: false
          outer_padding: false
          border_radius: false
        card_mod:
          style: |
            ha-card {
              background: var(--ha-card-background, rgba(255,255,255,0.96)) !important;
              border-radius: 24px !important;
              padding: 12px 12px 16px 12px !important;
              border: 1px solid rgba(0,0,0,0.03) !important;
              box-shadow: 0 6px 20px rgba(0,0,0,0.04) !important;
            }
        cards:
          - type: custom:bubble-card
            card_type: separator
            name: Bedroom
            icon: mdi:bed-king-outline
            sub_button:
              - entity: light.bedroom_primary_lights
                show_background: true
                tap_action:
                  action: toggle
            styles: |
              .bubble-separator-container {
                background: transparent !important;
                border: none !important;
                margin-bottom: 0px !important;
                padding-left: 8px !important;
              }

              .bubble-name {
                font-weight: 700 !important;
                font-size: 18px !important;
                color: #000 !important;
              }

              .bubble-icon-container {
                background: rgba(255,152,0,0.15) !important;
              }

              .bubble-icon {
                color: rgba(255,152,0,1) !important;
              }

              .bubble-sub-button-container {
                top: 50% !important;
                transform: translateY(-50%) !important;
              }
          - type: grid
            columns: 2
            square: false
            cards:
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.master_bedroom_table_lamps
                name: Table Lamps
                icon: mdi:lamp
                show_state: false
                show_attribute: true
                attribute: brightness
                scrolling_effect: false
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                double_tap_action:
                  action: call-service
                  service: light.turn_on
                  target:
                    entity_id: light.master_bedroom_table_lamps
                  data:
                    brightness_pct: 100
                styles: |-
                  /* 1. CONTAINER - Tightened Bottom */
                  .bubble-button-card-container {
                    position: relative !important;
                    display: grid !important;
                    grid-template-rows: auto auto 1fr auto !important;
                    justify-items: center !important;
                    align-items: center !important;
                    text-align: center !important;
                    min-height: 90px !important;
                    padding: 24px 10px 8px 10px !important;
                    border-radius: 14px !important;
                    overflow: hidden !important;
                    clip-path: inset(0 round 14px) !important;
                    transition: transform 0.05s ease-out, box-shadow 0.05s ease-out, background 0.05s ease-out, border-color 0.05s ease-out !important;
                    background: ${state === 'on' 
                      ? 'rgba(255,255,255,1)' 
                      : 'linear-gradient(145deg, rgba(0,0,0,0.02), rgba(0,0,0,0.04))'} !important;
                    border: ${state === 'on' 
                      ? '1.5px solid rgba(255,152,0,0.35)' 
                      : '1px solid rgba(0,0,0,0.03)'} !important;
                    transform: translateZ(0) !important;
                  }

                  .bubble-button-card-container:hover {
                    transform: translateY(-1px) !important;
                    box-shadow: 0 8px 18px rgba(0,0,0,0.16) !important;
                  }

                  /* 2. CONTENT LAYOUT */
                  .bubble-content-container {
                    display: grid !important;
                    grid-template-rows: auto auto 1fr !important;
                    justify-items: center !important;
                    width: 100% !important;
                    position: relative !important;
                    z-index: 5 !important;
                    padding-bottom: 20px !important;
                    pointer-events: auto !important;
                  }

                  /* 3. ICON STYLING */
                  .bubble-icon-container {
                    min-width: 40px !important;
                    min-height: 40px !important;
                    grid-row: 1 !important;
                    margin: 6px 0 1px 0 !important;
                    border-radius: 50% !important;
                    display: flex !important;
                    align-items: center !important;
                    justify-content: center !important;
                    position: relative !important;
                    z-index: 5 !important;
                    background: ${state === 'on' 
                      ? 'rgba(255,152,0,0.18)' 
                      : 'rgba(0,0,0,0.06)'} !important;
                  }

                  .bubble-icon {
                    --mdc-icon-size: 30px !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,0.96)' : 'rgba(0,0,0,0.45)'} !important;
                  }

                  /* 4. TEXT */
                  .bubble-name-container {
                    grid-row: 2 !important;
                    margin: 0 !important;
                    width: 100% !important;
                    display: flex !important;
                    flex-direction: column !important;
                    align-items: center !important;
                    position: relative !important;
                    z-index: 5 !important;
                  }

                  .bubble-name {
                    font-weight: 600 !important;
                    font-size: 13px !important;
                    line-height: 1.2 !important;
                    justify-content: center !important;
                    opacity: ${state === 'on' ? '1' : '0.75'} !important;
                  }

                  .bubble-attribute {
                    font-size: 12px !important;
                    margin-top: 2px !important;
                    justify-content: center !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,0.9)' : 'rgba(0,0,0,0.55)'} !important;
                    position: relative !important;
                    z-index: 5 !important;
                    transition: opacity 0.2s ease-in-out !important;
                  }

                  /* 5. SLIDER - LOWER POSITION */
                  .bubble-range-slider {
                    position: absolute !important;
                    bottom: 6px !important;
                    left: 0 !important;
                    right: 0 !important;
                    margin: 0 auto !important;
                    width: 86% !important;
                    height: 6px !important;
                    border-radius: 6px !important;
                    z-index: 10 !important;
                    background: ${state === 'on' ? 'rgba(0,0,0,0.02)' : 'transparent'} !important;
                    overflow: hidden !important;
                    cursor: grab !important;
                  }

                  .bubble-range-fill {
                    height: 6px !important;
                    border-radius: 6px !important;
                    background: rgba(255,152,0,0.9) !important;
                    z-index: 5 !important;
                    pointer-events: none !important;
                  }

                  /* 6. DRAG VALUE */
                  .bubble-range-value {
                    position: fixed !important;
                    top: 10px !important;
                    right: 12px !important;
                    left: auto !important;
                    bottom: auto !important;
                    transform: none !important;
                    background: transparent !important;
                    box-shadow: none !important;
                    border: none !important;
                    font-size: 15px !important;
                    font-weight: 700 !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,1)' : 'rgba(0,0,0,0.6)'} !important;
                    opacity: 0 !important;
                    pointer-events: none !important;
                    transition: opacity 0.2s ease-in-out !important;
                    z-index: 20 !important;
                  }

                  /* 7. INTERACTION STATES */
                  .is-dragging .bubble-range-value,
                  .bubble-range-slider:active .bubble-range-value {
                    opacity: 1 !important;
                    visibility: visible !important;
                    display: block !important;
                  }

                  .is-dragging .bubble-attribute {
                    opacity: 0 !important;
                  }

                  .is-dragging .bubble-wrapper,
                  .is-dragging .bubble-content-container,
                  .is-dragging .bubble-icon,
                  .is-dragging ha-icon,
                  .is-dragging .bubble-icon-container,
                  .is-dragging .bubble-name-container {
                    opacity: 1 !important;
                    visibility: visible !important;
                    transition: none !important;
                  }

                        sub_button:
                          main: []
                          bottom: []
              - type: custom:bubble-card
                card_type: button
                button_type: slider
                entity: light.master_bedroom_corner_accent
                name: Accent
                icon: mdi:lamp-outline
                show_state: false
                show_attribute: true
                attribute: brightness
                scrolling_effect: false
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                double_tap_action:
                  action: call-service
                  service: light.turn_on
                  target:
                    entity_id: light.master_bedroom_corner_accent
                  data:
                    brightness_pct: 100
                styles: |-
                  /* 1. CONTAINER - Tightened Bottom */
                  .bubble-button-card-container {
                    position: relative !important;
                    display: grid !important;
                    grid-template-rows: auto auto 1fr auto !important;
                    justify-items: center !important;
                    align-items: center !important;
                    text-align: center !important;
                    min-height: 90px !important;
                    padding: 24px 10px 8px 10px !important;
                    border-radius: 14px !important;
                    overflow: hidden !important;
                    clip-path: inset(0 round 14px) !important;
                    transition: transform 0.05s ease-out, box-shadow 0.05s ease-out, background 0.05s ease-out, border-color 0.05s ease-out !important;
                    background: ${state === 'on' 
                      ? 'rgba(255,255,255,1)' 
                      : 'linear-gradient(145deg, rgba(0,0,0,0.02), rgba(0,0,0,0.04))'} !important;
                    border: ${state === 'on' 
                      ? '1.5px solid rgba(255,152,0,0.35)' 
                      : '1px solid rgba(0,0,0,0.03)'} !important;
                    transform: translateZ(0) !important;
                  }

                  .bubble-button-card-container:hover {
                    transform: translateY(-1px) !important;
                    box-shadow: 0 8px 18px rgba(0,0,0,0.16) !important;
                  }

                  /* 2. CONTENT LAYOUT */
                  .bubble-content-container {
                    display: grid !important;
                    grid-template-rows: auto auto 1fr !important;
                    justify-items: center !important;
                    width: 100% !important;
                    position: relative !important;
                    z-index: 5 !important;
                    padding-bottom: 20px !important;
                    pointer-events: auto !important;
                  }

                  /* 3. ICON STYLING */
                  .bubble-icon-container {
                    min-width: 40px !important;
                    min-height: 40px !important;
                    grid-row: 1 !important;
                    margin: 6px 0 1px 0 !important;
                    border-radius: 50% !important;
                    display: flex !important;
                    align-items: center !important;
                    justify-content: center !important;
                    position: relative !important;
                    z-index: 5 !important;
                    background: ${state === 'on' 
                      ? 'rgba(255,152,0,0.18)' 
                      : 'rgba(0,0,0,0.06)'} !important;
                  }

                  .bubble-icon {
                    --mdc-icon-size: 30px !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,0.96)' : 'rgba(0,0,0,0.45)'} !important;
                  }

                  /* 4. TEXT */
                  .bubble-name-container {
                    grid-row: 2 !important;
                    margin: 0 !important;
                    width: 100% !important;
                    display: flex !important;
                    flex-direction: column !important;
                    align-items: center !important;
                    position: relative !important;
                    z-index: 5 !important;
                  }

                  .bubble-name {
                    font-weight: 600 !important;
                    font-size: 13px !important;
                    line-height: 1.2 !important;
                    justify-content: center !important;
                    opacity: ${state === 'on' ? '1' : '0.75'} !important;
                  }

                  .bubble-attribute {
                    font-size: 12px !important;
                    margin-top: 2px !important;
                    justify-content: center !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,0.9)' : 'rgba(0,0,0,0.55)'} !important;
                    position: relative !important;
                    z-index: 5 !important;
                    transition: opacity 0.2s ease-in-out !important;
                  }

                  /* 5. SLIDER - LOWER POSITION */
                  .bubble-range-slider {
                    position: absolute !important;
                    bottom: 6px !important;
                    left: 0 !important;
                    right: 0 !important;
                    margin: 0 auto !important;
                    width: 86% !important;
                    height: 6px !important;
                    border-radius: 6px !important;
                    z-index: 10 !important;
                    background: ${state === 'on' ? 'rgba(0,0,0,0.02)' : 'transparent'} !important;
                    overflow: hidden !important;
                    cursor: grab !important;
                  }

                  .bubble-range-fill {
                    height: 6px !important;
                    border-radius: 6px !important;
                    background: rgba(255,152,0,0.9) !important;
                    z-index: 5 !important;
                    pointer-events: none !important;
                  }

                  /* 6. DRAG VALUE */
                  .bubble-range-value {
                    position: fixed !important;
                    top: 10px !important;
                    right: 12px !important;
                    left: auto !important;
                    bottom: auto !important;
                    transform: none !important;
                    background: transparent !important;
                    box-shadow: none !important;
                    border: none !important;
                    font-size: 15px !important;
                    font-weight: 700 !important;
                    color: ${state === 'on' ? 'rgba(255,152,0,1)' : 'rgba(0,0,0,0.6)'} !important;
                    opacity: 0 !important;
                    pointer-events: none !important;
                    transition: opacity 0.2s ease-in-out !important;
                    z-index: 20 !important;
                  }

                  /* 7. INTERACTION STATES */
                  .is-dragging .bubble-range-value,
                  .bubble-range-slider:active .bubble-range-value {
                    opacity: 1 !important;
                    visibility: visible !important;
                    display: block !important;
                  }

                  .is-dragging .bubble-attribute {
                    opacity: 0 !important;
                  }

                  .is-dragging .bubble-wrapper,
                  .is-dragging .bubble-content-container,
                  .is-dragging .bubble-icon,
                  .is-dragging ha-icon,
                  .is-dragging .bubble-icon-container,
                  .is-dragging .bubble-name-container {
                    opacity: 1 !important;
                    visibility: visible !important;
                    transition: none !important;
                  }
                sub_button:
                  main: []
                  bottom: []
    column_span: 6
cards: []
